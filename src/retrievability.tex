\begin{definition}[\chanfunc{} Funds retrievability] \ \\
  \label{def:retrievability}
  Let \alice{} honest, \bob{} corrupted, \chanfunc{} parametrized by three
  protocols \texttt{openChannel}, \texttt{closeChannel}, and \texttt{checkOpen},
  interacting with \ledger{} which in turn is parametrized by the
  \texttt{validate} predicate of Definition~\TODO{}. We say that this
  \chanfunc{} provides {\em funds retrievability} if for any PPT \adversary,
  after \chanfunc{} serves a sequence of
  \begin{gather*}
    ((\textsc{open}, \mathrm{keys}, \mathrm{coins}_0, \alice), \mathtt{paid}
    \gets (\textsc{pay}, \mathrm{coins}_1^{\alice}, \alice), \\
    \mathtt{paid} \gets (\textsc{pay}, \mathrm{coins}_1^{\bob}, \bob), \dots,
    \mathtt{paid} \gets (\textsc{pay}, \mathrm{coins}_m^{\bob}, \bob), \\
    \mathtt{paid} \gets (\textsc{pay}, \mathrm{coins}_n^{\alice}, \alice),
    (\textsc{close}, \charlie \in \{\alice, \bob\}), \\
    sk_{\alice} \gets (\textsc{getSpendingKeys}, \alice))
  \end{gather*}
  requests (possibly interspersed with any number of invalid requests by
  entities other than \alice) and after the response $sk_{\alice}$ from the
  $(\textsc{getSpendingKeys})$ message is received, it can be used at any point
  in time to sign a valid transaction for \ledger{} that spends an existing,
  unspent output of value
  \begin{equation*}
    \mathrm{coins}_0 + \sum\limits_{i=1}^m\mathrm{coins}_i^{\bob} -
    \sum\limits_{j=1}^n\mathrm{coins}_j^{\alice} \enspace.
  \end{equation*}
\end{definition}
