% TODO: decide whether to merge the two tables, having only 3 parties for BCVC
% and only n parties for the rest
\section{Efficiency Evaluation}
  \label{section:comparison}
  We offer here a comparison of this work with
  LVPC~\cite{10.1007/978-3-030-65411-5_18}, BCVC~\cite{cryptoeprint:2020:554}
  and Donner~\cite{donner} in terms of communication efficiency when opening and
  updating and in terms of on-chain footprint when non-cooperatively closing a
  virtual channel, both in size and number of transactions, aggregated for all
  parties. The comparison is performed both for channels of length $2$ and for
  channels of length $n$. In the second comparison BCVC is not included, since
  only LVPC and Donner offer a way to open virtual channels of length greater
  than $2$ (since LVPC is recursive and Donner is variadic).

  BCVC proposes $4$ configurations, each with different efficiency
  characteristics: over Generalised Channels~\cite{cryptoeprint:2020:476} (GC)
  or Lightning, and with or without validity (V or NV respectively); we include
  all of them here. We refer the reader to~\cite{cryptoeprint:2020:554} for more
  details.

  \begin{table*}
    \caption{Efficiency comparison of virtual channel protocols with $3$
    parties}
    \label{table:comparison:overhead:3-parties}
    \begin{minipage}{\textwidth}
    \begin{center}
    \begin{tabular}{|l|c|c|c|c|c|c|}
    \hline
              & \multicolumn{2}{|c|}{Open} & \multicolumn{2}{|c|}{Update} &
              \multicolumn{2}{|c|}{Close} \\
    \hline
              & \#txs & size & \#txs & size & \#txs & size \\
    \hline
    LVPC       & 14 & 100000 & 2 & 100000 & 10 & 100000 \\
    \hline
    BCVC-GC-NV
              & 7 & 2829 & 2 & 695 & 7 & 2829 \\
    \hline
    BCVC-GC-V & 8 & 2803 & 2 & 695 & 6 & 2108 \\
    \hline
    BCVC-LN-NV
              & 16 & 7704 & 8 & 2824 & 3 & 1800 \\
    \hline
    BCVC-LN-V & 14 & 5722 & 4 & 1412 & 4 & 1778 \\
    \hline
    Donner    & 14 & 4721 & 2 & 695 & 10 & 3438 \\
    \hline
    this work & 1000 & 100000 & 1000 & 100000 & 1000 & 100000 \\
    \hline
    \end{tabular}
    \end{center}
    \end{minipage}
  \end{table*}

  \begin{table*}
    \caption{Efficiency comparison of virtual channel protocols with $n$
    parties}
    \label{table:comparison:overhead:n-parties}
    \begin{minipage}{\textwidth}
    \begin{center}
    \begin{tabular}{|l|c|c|c|c|c|c|}
    \hline
              & \multicolumn{2}{|c|}{Open} & \multicolumn{2}{|c|}{Update} &
              \multicolumn{2}{|c|}{Close} \\
    \hline
              & \#txs & size & \#txs & size & \#txs & size \\
    \hline
    LVPC      & $7(n-1)$ & $34n^2+1240n+695$ & $2$ & $695$ & $5n-5$ &
              $1082n+192$ \\
    \hline
    Donner    & $4n-2$ & 100000 & $2$ & 100000 & $3n+1$ & 100000 \\
    \hline
    this work & 1000 & 100000 & 1000 & 100000 & 1000 & 100000 \\
    \hline
    \end{tabular}
    \end{center}
    \end{minipage}
  \end{table*}\TODO{lpvc values don't seem right}
